<!DOCTYPE html>

<html>
  <head>
    <script type="text/javascript">
      var ws = new WebSocket("wss://public-sphere.glitch.me");

      ws.onmessage = function(evt) {
        var received_msg = evt.data;
        const chat = document.getElementById("chat")
        const li = document.createElement("li")
        li.appendChild(document.createTextNode(received_msg))
        chat.appendChild(li)
      };

      function send() {
        const textArea = document.getElementById("message");
        const message = textArea.value;
        ws.send(message);
        textArea.value = "";
      }

    </script>
  </head>

  <body>
    <h2>
      Send messages
    </h2>
    <textarea id="message"></textarea>
    <button onclick="send()">
      Send
    </button>
    <h2>
      Replies from server
    </h2>
    <ul id="chat"></ul>
  </body>
</html>
